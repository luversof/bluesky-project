<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
	layout:decorator="layout/defaultLayout">
<div layout:fragment="content">
	<div class="page-header">
		<h1>Blog <small th:text="#{blog.menu.list}">list</small></h1>
	</div>
	<table class="table">
		<thead>
			<tr>
				<th th:text="#{blogArticle.text.id}">id</th>
				<th th:text="#{blogArticle.text.category}">category</th>
				<th th:text="#{blogArticle.text.title}">title</th>
				<th th:text="#{blogArticle.text.createdDate}">createdDate</th>
				<th th:text="#{blogArticle.text.viewCount}">viewCount</th>
			</tr>
		</thead>
		<tbody>
			<tr th:if="${blogArticlePage.hasContent()}" th:each="blogArticle : ${blogArticlePage.getContent()}">
				<td th:text="${blogArticle.id}">id</td>
				<td th:text="${blogArticle.blogArticleCategory} ? ${blogArticle.blogArticleCategory.name}">category</td>
				<td><a th:href="#{url.blog.view(${blogArticle.blog.id}, ${blogArticle.id})}" th:text="${blogArticle.title}">title</a></td>
				<td th:text="${blogArticle.createdDate == null ?: #temporals.format(blogArticle.createdDate, 'yyyy-MM-dd')}">createdDate</td>
				<td>
					<span th:if="${blogArticle.blogArticleStatistics ne null}" th:text="${blogArticle.blogArticleStatistics eq null ? '-' : blogArticle.blogArticleStatistics.viewCount}">-</span>
				</td>
			</tr>
			<tr th:if="${!blogArticlePage.hasContent()}" class="text-xs-center">
				<td colspan="5" th:text="#{blogArticle.message.empty.content}">article.message.empty.content</td>
			</tr>
		</tbody>
		<tfoot>
			<tr>
				<td colspan="5" class="text-xs-center">
					<nav aria-label="Page navigation">
						<ul class="pagination" th:if="${blogArticlePage.totalPages} > 0">
							<li class="page-item" th:if="${!blogArticlePage.first}">
      							<a class="page-link" th:href="@{#{url.blog.list(${blogId})}(page=${blogArticlePage.number - 1})}" aria-label="Previous">
									<span aria-hidden="true">&laquo;</span>
									<span class="sr-only">Previous</span>
								</a>
							</li>
							<!-- <li class="page-item" th:classappend="${i == currentPage} ? 'active'"><a class="page-link" th:href="@{#{url.blog.list(${blogId})}}" th:text="${blogArticlePage.number + 1}">1</a></li> -->
							<li class="page-item" th:if="${!blogArticlePage.last}">
								<a class="page-link" th:href="@{#{url.blog.list(${blogId})}(page=${blogArticlePage.number + 1})}" aria-label="Next">
									<span aria-hidden="true">&raquo;</span>
									<span class="sr-only">Next</span>
								</a>
							</li>
						</ul>
					</nav>
					<div>
						<a th:href="#{url.blog.write(${blogId})}" sec:authorize="isAuthenticated()" class="btn btn-primary" th:text="#{blog.menu.write}">write</a>
					</div>
				</td>
			</tr>
		</tfoot>
	</table>
</div>
</html>