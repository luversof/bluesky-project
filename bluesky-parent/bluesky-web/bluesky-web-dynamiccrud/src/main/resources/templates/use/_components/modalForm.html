<form id="modalForm"
	data-th-with="
		map = ${T(java.util.Map)},
		thymeleafUtil = ${T(net.luversof.web.dynamiccrud.thymeleaf.util.ThymeleafUtil)},
		dbFieldList = ${dbFieldList},
		dbFieldColumnType = ${T(net.luversof.web.dynamiccrud.setting.domain.DbFieldColumnType)}"
	data-th-hx-post="@{${thymeleafUtil.getUrl('FRAGMENT_MODAL_FORM',map.of('modalMode',modalMode))}}"
	hx-target="#fragmentArea"
>
	<div class="join w-full m-1" data-th-each="dbField : ${dbFieldList}" data-th-if="${dbField.isEnableEdit()}">
		<!--/*-->
		최우선으로 preset이 있는 경우 preset 기준 select를 구성
		없으면 그 다음 분기를 고려
		<!--*/-->
		
		<div class="btn btn-sm join-item w-1/3" data-th-text="${dbField.columnName}"></div>
		
		<th-block data-th-if="${#strings.isEmpty(dbField.columnPreset)}">
			<!--/*-->
			preset이 없는 경우 Field의 type에 따라 input을 설정
			type : boolean, date, int, lonk, long, string, text
			<!--*/-->
			
			<th-block data-th-switch="${dbField.columnType}">
				
				<th-block data-th-case="${dbFieldColumnType.BOOLEAN}">
					<input type="checkbox" class="toggle toggle-lg toggle-info ml-2" />
					<input type="hidden" data-th-name="${dbField.columnId}" value="false" />
				</th-block>
				<th-block data-th-case="${dbFieldColumnType.INT}">
					<input type="number" class="input input-sm input-bordered join-item w-full"
						 data-th-name="${dbField.columnId}"
						 data-th-required="${dbField.isEnableEditRequired()}"
					/>
				</th-block>
				<th-block data-th-case="${dbFieldColumnType.TEXT}">
					<textarea class="textarea textarea-sm textarea-bordered join-item w-full h-40"
						 data-th-name="${dbField.columnId}"
						 data-th-required="${dbField.isEnableEditRequired()}"
					></textarea>
				</th-block>
				<th-block data-th-case="*">
					<input type="text" class="input input-sm input-bordered join-item w-full"
						 data-th-name="${dbField.columnId}"
						 data-th-required="${dbField.isEnableEditRequired()}"
					/>
				</th-block>
				
			</th-block>
			
			
		</th-block>
		<th-block data-th-unless="${#strings.isEmpty(dbField.columnPreset)}">
			<select class="select select-sm select-bordered join-item w-full"
				data-th-name="${dbField.columnId}"
				data-th-required="${dbField.isEnableEditRequired()}"
			>
				<option data-th-text="${dbField.columnName}" value="" />
				<option 
					data-th-each="presetPart : ${#strings.listSplit(dbField.columnPreset,'|')}" 
					data-th-value="${#strings.contains(presetPart, ',')? #strings.arraySplit(presetPart, ',')[1] : presetPart}" 
					data-th-text="${#strings.contains(presetPart, ',')? #strings.arraySplit(presetPart, ',')[0] : presetPart}"
				/>
				
				
			</select>
			
		</th-block>
		
	</div>
	
	
	
	
	
	<input type="hidden"
		data-th-each="dbField : ${dbFieldList}"
		data-th-if="${dbField.isEnableEdit()}"
		data-th-name="'\_\_org\_\_' + ${dbField.columnId}"
	/>
</form>